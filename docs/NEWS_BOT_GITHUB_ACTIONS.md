# News Bot GitHub Actions Setup

This guide explains how to set up the automated news bot using GitHub Actions with your API keys stored securely in GitHub Secrets.

## üìã Prerequisites

1. **EventRegistry API Key**: Get a free API key at [eventregistry.org](https://eventregistry.org/)
2. **Google AI API Key**: Get your API key from [Google AI Studio](https://makersuite.google.com/app/apikey)

## üîê Setting Up GitHub Secrets

### Step 1: Navigate to Repository Settings
1. Go to your GitHub repository
2. Click on **Settings** tab
3. In the left sidebar, click **Secrets and variables** ‚Üí **Actions**

### Step 2: Add Repository Secrets
Click **New repository secret** and add these two secrets:

#### Secret 1: EventRegistry API Key
- **Name**: `EVENTREGISTRY_API_KEY`
- **Value**: Your EventRegistry API key

#### Secret 2: Google AI API Key  
- **Name**: `GOOGLE_API_KEY`
- **Value**: Your Google AI API key

## ü§ñ Available Workflows

### 1. Simple News Bot (`simple-news-bot.yml`)
**Recommended for most users**

- ‚úÖ Runs daily at 9:00 AM UTC
- ‚úÖ Can be triggered manually
- ‚úÖ Uses the standalone Python script
- ‚úÖ Creates pull requests with generated articles
- ‚úÖ Uploads artifacts with all generated content

### 2. Advanced News Bot (`news-bot.yml`) 
**For advanced users**

- ‚úÖ Converts Jupyter notebook to Python
- ‚úÖ More complex article generation
- ‚úÖ Commits directly to main branch (scheduled runs only)
- ‚úÖ More comprehensive error handling

## üöÄ Manual Execution

### Using GitHub Web Interface
1. Go to **Actions** tab in your repository
2. Select **Simple News Bot** workflow
3. Click **Run workflow**
4. Configure parameters:
   - **Keyword**: Topic to search for (e.g., "climate change")
   - **Style**: Writing style (professional/casual/academic)
   - **Category**: News category (technology/business/health/etc.)
5. Click **Run workflow**

### Using GitHub CLI
```bash
# Trigger with default parameters
gh workflow run simple-news-bot.yml

# Trigger with custom parameters
gh workflow run simple-news-bot.yml \\
  -f keyword="renewable energy" \\
  -f style="casual" \\
  -f category="science"
```

## üìÅ Output Files

The bot generates several types of files:

### Generated Articles (Markdown)
- `keyword_{topic}_{n}_{date}.md` - Articles based on keyword search
- `category_{category}_{n}_{date}.md` - Articles from category search

### Summary Report (JSON)
- `news_summary_{date}.json` - Complete run summary with metadata

### Example Generated Article Structure
```markdown
# AI Revolution: New Breakthroughs Transform Healthcare

**Generated:** 2025-09-24T10:30:00Z  
**Source:** TechNews Daily  
**Word Count:** 847  
**Tags:** artificial intelligence, healthcare, technology  

---

## Summary
Recent developments in artificial intelligence are revolutionizing...

## Article
### Healthcare Applications
AI systems are now being deployed in hospitals...

### Future Implications
The integration of AI in healthcare promises...

## Conclusion
As AI continues to evolve, its impact on healthcare...

---
*Generated by News Bot using EventRegistry API and Google Gemini*
```

## üìä Monitoring & Results

### Viewing Results
1. **Artifacts**: Download generated files from the Actions run
2. **Pull Requests**: Automatic PRs created for scheduled runs
3. **Logs**: Check workflow logs for execution details

### Troubleshooting
Common issues and solutions:

#### API Key Issues
```
‚ùå Missing required API keys!
```
**Solution**: Verify secrets are named exactly `EVENTREGISTRY_API_KEY` and `GOOGLE_API_KEY`

#### Rate Limiting
```
‚ùå Error fetching news: Rate limit exceeded
```
**Solution**: The bot includes rate limiting delays. Check your API quotas.

#### No News Found
```
‚ùå No recent news found for keyword: xyz
```
**Solution**: Try broader keywords or different categories.

## ‚öôÔ∏è Customization

### Modify Schedule
Edit the cron expression in the workflow file:
```yaml
on:
  schedule:
    # Daily at 6:00 AM UTC (change as needed)
    - cron: '0 6 * * *'
```

### Add New Categories
Update the workflow inputs and the Python script's `category_map`:
```python
category_map = {
    'technology': 'dmoz/Computers',
    'business': 'dmoz/Business',
    'your_category': 'dmoz/YourCategory'  # Add new category
}
```

### Change Output Format
Modify the `save_article_to_markdown` function in `news_bot_action.py` to customize the output format.

## üîí Security Best Practices

1. **Never commit API keys** to your repository
2. **Use GitHub Secrets** for all sensitive data
3. **Regularly rotate** your API keys
4. **Monitor API usage** to detect unauthorized access
5. **Use branch protection** rules for automated commits

## üìà Advanced Features

### Email Notifications
Add email notifications for workflow results:
```yaml
- name: Send email notification
  uses: dawidd6/action-send-mail@v3
  with:
    server_address: smtp.gmail.com
    server_port: 465
    username: ${{ secrets.EMAIL_USERNAME }}
    password: ${{ secrets.EMAIL_PASSWORD }}
    subject: Daily News Bot Results
    body: Check the attached articles!
    attachments: "*.md,*.json"
```

### Slack Integration
Send results to Slack:
```yaml
- name: Post to Slack
  uses: 8398a7/action-slack@v3
  with:
    status: custom
    custom_payload: |
      {
        text: "üì∞ Daily news articles generated!",
        attachments: [{
          color: 'good',
          fields: [{
            title: 'Articles Generated',
            value: '${{ steps.count.outputs.articles }}',
            short: true
          }]
        }]
      }
  env:
    SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK }}
```

## ü§ù Contributing

To improve the news bot:

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Test with your own API keys
5. Submit a pull request

## üìÑ License

This project follows the same license as the parent repository.

---

**Happy automated news generation!** ü§ñüì∞